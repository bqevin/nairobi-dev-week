!function e(t,i,s){function n(o,l){if(!i[o]){if(!t[o]){var r="function"==typeof require&&require;if(!l&&r)return r(o,!0);if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return n(i?i:e)},u,u.exports,e,t,i,s)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function a(){var e=new l.HandlebarsEnvironment;return p.extend(e,l),e.SafeString=h["default"],e.Exception=c["default"],e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}i.__esModule=!0;var o=e("./handlebars/base"),l=n(o),r=e("./handlebars/safe-string"),h=s(r),u=e("./handlebars/exception"),c=s(u),d=e("./handlebars/utils"),p=n(d),f=e("./handlebars/runtime"),v=n(f),g=e("./handlebars/no-conflict"),m=s(g),w=a();w.create=a,m["default"](w),w["default"]=w,i["default"]=w,t.exports=i["default"]},{"./handlebars/base":2,"./handlebars/exception":5,"./handlebars/no-conflict":15,"./handlebars/runtime":16,"./handlebars/safe-string":17,"./handlebars/utils":18}],2:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},r.registerDefaultHelpers(this),h.registerDefaultDecorators(this)}i.__esModule=!0,i.HandlebarsEnvironment=n;var a=e("./utils"),o=e("./exception"),l=s(o),r=e("./helpers"),h=e("./decorators"),u=e("./logger"),c=s(u),d="4.0.5";i.VERSION=d;var p=7;i.COMPILER_REVISION=p;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};i.REVISION_CHANGES=f;var v="[object Object]";n.prototype={constructor:n,logger:c["default"],log:c["default"].log,registerHelper:function(e,t){if(a.toString.call(e)===v){if(t)throw new l["default"]("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(a.toString.call(e)===v)a.extend(this.partials,e);else{if("undefined"==typeof t)throw new l["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(a.toString.call(e)===v){if(t)throw new l["default"]("Arg not supported with multiple decorators");a.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var g=c["default"].log;i.log=g,i.createFrame=a.createFrame,i.logger=c["default"]},{"./decorators":3,"./exception":5,"./helpers":6,"./logger":14,"./utils":18}],3:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){o["default"](e)}i.__esModule=!0,i.registerDefaultDecorators=n;var a=e("./decorators/inline"),o=s(a)},{"./decorators/inline":4}],4:[function(e,t,i){"use strict";i.__esModule=!0;var s=e("../utils");i["default"]=function(e){e.registerDecorator("inline",function(e,t,i,n){var a=e;return t.partials||(t.partials={},a=function(n,a){var o=i.partials;i.partials=s.extend({},o,t.partials);var l=e(n,a);return i.partials=o,l}),t.partials[n.args[0]]=n.fn,a})},t.exports=i["default"]},{"../utils":18}],5:[function(e,t,i){"use strict";function s(e,t){var i=t&&t.loc,a=void 0,o=void 0;i&&(a=i.start.line,o=i.start.column,e+=" - "+a+":"+o);for(var l=Error.prototype.constructor.call(this,e),r=0;r<n.length;r++)this[n[r]]=l[n[r]];Error.captureStackTrace&&Error.captureStackTrace(this,s),i&&(this.lineNumber=a,this.column=o)}i.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];s.prototype=new Error,i["default"]=s,t.exports=i["default"]},{}],6:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){o["default"](e),r["default"](e),u["default"](e),d["default"](e),f["default"](e),g["default"](e),w["default"](e)}i.__esModule=!0,i.registerDefaultHelpers=n;var a=e("./helpers/block-helper-missing"),o=s(a),l=e("./helpers/each"),r=s(l),h=e("./helpers/helper-missing"),u=s(h),c=e("./helpers/if"),d=s(c),p=e("./helpers/log"),f=s(p),v=e("./helpers/lookup"),g=s(v),m=e("./helpers/with"),w=s(m)},{"./helpers/block-helper-missing":7,"./helpers/each":8,"./helpers/helper-missing":9,"./helpers/if":10,"./helpers/log":11,"./helpers/lookup":12,"./helpers/with":13}],7:[function(e,t,i){"use strict";i.__esModule=!0;var s=e("../utils");i["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,i){var n=i.inverse,a=i.fn;if(t===!0)return a(this);if(t===!1||null==t)return n(this);if(s.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):n(this);if(i.data&&i.ids){var o=s.createFrame(i.data);o.contextPath=s.appendContextPath(i.data.contextPath,i.name),i={data:o}}return a(t,i)})},t.exports=i["default"]},{"../utils":18}],8:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}i.__esModule=!0;var n=e("../utils"),a=e("../exception"),o=s(a);i["default"]=function(e){e.registerHelper("each",function(e,t){function i(t,i,a){h&&(h.key=t,h.index=i,h.first=0===i,h.last=!!a,u&&(h.contextPath=u+t)),r+=s(e[t],{data:h,blockParams:n.blockParams([e[t],t],[u+t,null])})}if(!t)throw new o["default"]("Must pass iterator to #each");var s=t.fn,a=t.inverse,l=0,r="",h=void 0,u=void 0;if(t.data&&t.ids&&(u=n.appendContextPath(t.data.contextPath,t.ids[0])+"."),n.isFunction(e)&&(e=e.call(this)),t.data&&(h=n.createFrame(t.data)),e&&"object"==typeof e)if(n.isArray(e))for(var c=e.length;c>l;l++)l in e&&i(l,l,l===e.length-1);else{var d=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==d&&i(d,l-1),d=p,l++);void 0!==d&&i(d,l-1,!0)}return 0===l&&(r=a(this)),r})},t.exports=i["default"]},{"../exception":5,"../utils":18}],9:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}i.__esModule=!0;var n=e("../exception"),a=s(n);i["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new a["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=i["default"]},{"../exception":5}],10:[function(e,t,i){"use strict";i.__esModule=!0;var s=e("../utils");i["default"]=function(e){e.registerHelper("if",function(e,t){return s.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=i["default"]},{"../utils":18}],11:[function(e,t,i){"use strict";i.__esModule=!0,i["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],i=arguments[arguments.length-1],s=0;s<arguments.length-1;s++)t.push(arguments[s]);var n=1;null!=i.hash.level?n=i.hash.level:i.data&&null!=i.data.level&&(n=i.data.level),t[0]=n,e.log.apply(e,t)})},t.exports=i["default"]},{}],12:[function(e,t,i){"use strict";i.__esModule=!0,i["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},t.exports=i["default"]},{}],13:[function(e,t,i){"use strict";i.__esModule=!0;var s=e("../utils");i["default"]=function(e){e.registerHelper("with",function(e,t){s.isFunction(e)&&(e=e.call(this));var i=t.fn;if(s.isEmpty(e))return t.inverse(this);var n=t.data;return t.data&&t.ids&&(n=s.createFrame(t.data),n.contextPath=s.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:n,blockParams:s.blockParams([e],[n&&n.contextPath])})})},t.exports=i["default"]},{"../utils":18}],14:[function(e,t,i){"use strict";i.__esModule=!0;var s=e("./utils"),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=s.indexOf(n.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=n.lookupLevel(e),"undefined"!=typeof console&&n.lookupLevel(n.level)<=e){var t=n.methodMap[e];console[t]||(t="log");for(var i=arguments.length,s=Array(i>1?i-1:0),a=1;i>a;a++)s[a-1]=arguments[a];console[t].apply(console,s)}}};i["default"]=n,t.exports=i["default"]},{"./utils":18}],15:[function(e,t,i){(function(e){"use strict";i.__esModule=!0,i["default"]=function(t){var i="undefined"!=typeof e?e:window,s=i.Handlebars;t.noConflict=function(){return i.Handlebars===t&&(i.Handlebars=s),t}},t.exports=i["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function a(e){var t=e&&e[0]||1,i=m.COMPILER_REVISION;if(t!==i){if(i>t){var s=m.REVISION_CHANGES[i],n=m.REVISION_CHANGES[t];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+s+") or downgrade your runtime to an older version ("+n+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){function i(i,s,n){n.hash&&(s=f.extend({},s,n.hash),n.ids&&(n.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,s,n);var a=t.VM.invokePartial.call(this,i,s,n);if(null==a&&t.compile&&(n.partials[n.name]=t.compile(i,e.compilerOptions,t),a=n.partials[n.name](s,n)),null!=a){if(n.indent){for(var o=a.split("\n"),l=0,r=o.length;r>l&&(o[l]||l+1!==r);l++)o[l]=n.indent+o[l];a=o.join("\n")}return a}throw new g["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode")}function s(t){function i(t){return""+e.main(n,t,n.helpers,n.partials,o,r,l)}var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=a.data;s._setup(a),!a.partial&&e.useData&&(o=c(t,o));var l=void 0,r=e.useBlockParams?[]:void 0;return e.useDepths&&(l=a.depths?t!==a.depths[0]?[t].concat(a.depths):a.depths:[t]),(i=d(e.main,i,n,a.depths||[],o,r))(t,a)}if(!t)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new g["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var i=e.length,s=0;i>s;s++)if(e[s]&&null!=e[s][t])return e[s][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:f.escapeExpression,invokePartial:i,fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,s,n){var a=this.programs[e],o=this.fn(e);return t||n||s||i?a=l(this,e,o,t,i,s,n):a||(a=this.programs[e]=l(this,e,o)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=f.extend({},t,e)),i},noop:t.VM.noop,compilerInfo:e.compiler};return s.isTop=!0,s._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials,n.decorators=i.decorators):(n.helpers=n.merge(i.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(i.decorators,t.decorators)))},s._child=function(t,i,s,a){if(e.useBlockParams&&!s)throw new g["default"]("must pass block params");if(e.useDepths&&!a)throw new g["default"]("must pass parent depths");return l(n,t,e[t],i,0,s,a)},s}function l(e,t,i,s,n,a,o){function l(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=o;return o&&t!==o[0]&&(l=[t].concat(o)),i(e,t,e.helpers,e.partials,n.data||s,a&&[n.blockParams].concat(a),l)}return l=d(i,l,e,o,s,a),l.program=t,l.depth=o?o.length:0,l.blockParams=n||0,l}function r(e,t,i){return e?e.call||i.name||(i.name=e,e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],e}function h(e,t,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var s=void 0;if(i.fn&&i.fn!==u&&(i.data=m.createFrame(i.data),s=i.data["partial-block"]=i.fn,s.partials&&(i.partials=f.extend({},i.partials,s.partials))),void 0===e&&s&&(e=s),void 0===e)throw new g["default"]("The partial "+i.name+" could not be found");return e instanceof Function?e(t,i):void 0}function u(){return""}function c(e,t){return t&&"root"in t||(t=t?m.createFrame(t):{},t.root=e),t}function d(e,t,i,s,n,a){if(e.decorator){var o={};t=e.decorator(t,o,i,s&&s[0],n,a,s),f.extend(t,o)}return t}i.__esModule=!0,i.checkRevision=a,i.template=o,i.wrapProgram=l,i.resolvePartial=r,i.invokePartial=h,i.noop=u;var p=e("./utils"),f=n(p),v=e("./exception"),g=s(v),m=e("./base")},{"./base":2,"./exception":5,"./utils":18}],17:[function(e,t,i){"use strict";function s(e){this.string=e}i.__esModule=!0,s.prototype.toString=s.prototype.toHTML=function(){return""+this.string},i["default"]=s,t.exports=i["default"]},{}],18:[function(e,t,i){"use strict";function s(e){return c[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function a(e,t){for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(d,s):e}function l(e){return e||0===e?g(e)&&0===e.length?!0:!1:!0}function r(e){var t=n({},e);return t._parent=e,t}function h(e,t){return e.path=t,e}function u(e,t){return(e?e+".":"")+t}i.__esModule=!0,i.extend=n,i.indexOf=a,i.escapeExpression=o,i.isEmpty=l,i.createFrame=r,i.blockParams=h,i.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,p=/[&<>"'`=]/,f=Object.prototype.toString;i.toString=f;var v=function(e){return"function"==typeof e};v(/x/)&&(i.isFunction=v=function(e){return"function"==typeof e&&"[object Function]"===f.call(e)}),i.isFunction=v;var g=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===f.call(e):!1};i.isArray=g},{}],19:[function(e,t,i){t.exports=e("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":1}],20:[function(e,t,i){t.exports=e("handlebars/runtime")["default"]},{"handlebars/runtime":19}],21:[function(e,t,i){function s(e,t,i){this.options=i,this.$win=e,this.$domEl=t,this.$wrapper=$('<div class="canvasWrapper"></div>'),this.canvas=document.createElement("canvas"),this.$canvas=$(this.canvas),this.ctx=this.canvas.getContext("2d"),this.buffer=document.createElement("canvas"),this.bufferCtx=this.buffer.getContext("2d"),this.offset={x:0,y:0},this.tick=0,this.isPlaying=!1,this.requestId=void 0,this.fps=24,this.now,this.then=Date.now(),this.interval=1e3/this.fps,this.delta}e("./util.js");s.prototype.init=function(){this.resize(),this.$canvas.addClass("animation"),this.$wrapper.append(this.$canvas),this.$domEl.append(this.$wrapper),this.start(),this.stop()},s.prototype.draw=function(){},s.prototype.render=function(){var e=this;this.now=Date.now(),this.delta=this.now-this.then,this.delta>this.interval&&(this.then=this.now-this.delta%this.interval,this.ctx.save(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.restore(),this.bufferCtx.save(),this.bufferCtx.clearRect(0,0,this.buffer.width,this.buffer.height),this.bufferCtx.restore(),this.canvas.height=this.height,this.canvas.width=this.width,this.draw(),this.tick++),this.requestId=requestAnimationFrame(function(){e.render()})},s.prototype.start=function(){this.isPlaying=!0,this.requestId||this.render()},s.prototype.stop=function(){this.isPlaying=!1,this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=void 0)},s.prototype.resize=function(){this.sizeHandler()},s.prototype.sizeHandler=function(){this.height=this.$domEl.innerHeight(),this.width=this.$domEl.innerWidth(),this.$canvas.css({bottom:"0",right:"0"}),this.canvas.width=this.width,this.canvas.height=this.height,this.buffer.width=this.width,this.buffer.height=this.height},s.prototype.layoutCanvas=function(e){this.sizeHandler=e},s.prototype.retinafy=function(){var e=this.backingScale(this.ctx),t=this.backingStore(this.ctx),i=e/t;if(e!==t){var s=this.canvas.width,n=(this.canvas.height,this.canvas.width);this.canvas.height;this.canvas.width=s*i,this.canvas.height=s*i,this.canvas.style.width=s+"px",this.canvas.style.height=s+"px",this.ctx.scale(i,i),this.buffer.width=n*i,this.buffer.height=n*i,this.buffer.style.width=n+"px",this.buffer.style.height=n+"px",this.bufferCtx.scale(i,i)}},s.prototype.backingScale=function(e){return"devicePixelRatio"in window&&window.devicePixelRatio>1?window.devicePixelRatio:1},s.prototype.backingStore=function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1},t.exports=s},{"./util.js":24}],22:[function(e,t,s){function n(e){this.aX=e.curve[0],this.bX=e.curve[1],this.aY=e.curve[2],this.bY=e.curve[3],this.aPhi=0,this.bPhi=0,this.speed=e.speed,this.pointCount=e.pointCount||300,this.strokeWeight=e.strokeWeight,this.strokeColor=e.strokeColor,this.animationAxis=e.animationAxis,this.scaleX=e.scaleX||1,this.scaleY=e.scaleY||1,this.pi=1*Math.PI,e.minWidth&&(this.minWidth=e.minWidth),e.pi&&(this.pi=Math.PI*e.pi)}var a=e("./util.js");n.prototype={update:function(){"y"==this.animationAxis?this.bPhi+=this.speed:this.aPhi+=this.speed},plot:function(e,t,s,n){var a,o,l,r,h=this.calcCurve();void 0!=this.offsetIndex&&void 0!=this.offsetResolution?(a=t/this.offsetResolution*this.scaleX*.7,o=s*this.scaleY*.7,l=this.offsetIndex*(t/this.offsetResolution)+t/this.offsetResolution/2,r=s/2):(a=t*this.scaleX,o=s*this.scaleY,l=t/2,r=s/2),this.minWidth&&a<this.minWidth&&(a=this.minWidth),l+=n.x,r+=n.y,e.beginPath(),x1=h[0][0]*a+l,y1=h[0][1]*o+r,e.moveTo(x1,y1);var u,c,d,p;for(i=1,il=h.length;i<il-1;i++)u=h[i],c=h[i+1],x1=u[0]*a+l,y1=u[1]*o+r,d=(u[0]+c[0])/2*a+l,p=(u[1]+c[1])/2*o+r,e.quadraticCurveTo(x1,y1,d,p);x1=u[0]*a+l,y1=u[1]*o+r,x2=h[0][0]*a+l,y2=h[0][1]*o+r,e.quadraticCurveTo(x1,y1,x2,y2),e.fillStyle="#fff",e.fill(),e.lineWidth=this.strokeWeight,e.strokeStyle=this.strokeColor,e.stroke()},calcCurve:function(){for(var e=[],t=this.pointCount<1?1:this.pointCount,i=this.pi,s=this.aX,n=this.aY,o=this.bX,l=this.bY,r=a.radians(this.aPhi),h=a.radians(this.bPhi),u=0;t>u;u++)angle=a.map(u,0,t,0,i),x=Math.sin(angle*s+r)*Math.cos(angle*o),y=Math.sin(angle*n+h)*Math.cos(angle*l),e.push([y,x]);return e}},t.exports=n},{"./util.js":24}],23:[function(e,t,i){function s(){n.apply(this,arguments)}var n=e("./baseAnimation.js"),a=e("./lissajous.js");s.prototype=Object.create(n.prototype),s.prototype.constructor=n,s.prototype.init=function(){this.curve=new a(this.options),n.prototype.init.call(this)},s.prototype.draw=function(){this.curve.update(),this.curve.plot(this.ctx,this.width,this.height,this.offset)},s.prototype.resize=function(){this.height=100,this.width=100,this.canvas.width=this.width,this.canvas.height=this.height,this.retinafy()},t.exports=s},{"./baseAnimation.js":21,"./lissajous.js":22}],24:[function(e,t,i){var s=Math.PI,n={map:function(e,t,i,s,n){return t>e&&(e=t),e>i&&(e=i),s+(n-s)*((e-t)/(i-t))},constrain:function(e,t,i){return e>i?i:t>e?t:e},radians:function(e){return e/180*s},queue:function(e,t){return e.length?void e.shift()(function(){return n.queue(e,t)}):t()},toRGBA:function(e,t){return str=e.slice(3).replace("(","").replace(")",""),str+=","+t,str="rgba("+str+")",str},lerp:function(e,t,i){return(1-i)*e+i*t},getNextIndex:function(e,t){return t+1<e.length?t+1:t+1>=e.length?0:void 0}};t.exports=n},{}],25:[function(e,t,i){t.exports=Parse.Collection.extend({})},{}],26:[function(e,t,i){var s=e("./base.js"),n=e("../models/map.js");t.exports=s.extend({model:n})},{"../models/map.js":31,"./base.js":25}],27:[function(e,t,i){function s(e,t){return e.sort(function(e,i){var s=e[t],n=i[t];return n>s?-1:s>n?1:0})}var n=e("./base.js"),a=e("../models/session.js"),o=["https://dx247o7dzlwef.cloudfront.net/img/avatar-1@2x-8512a600.png","https://dx247o7dzlwef.cloudfront.net/img/avatar-2@2x-5a97069d.png","https://dx247o7dzlwef.cloudfront.net/img/avatar-3@2x-dd3a369f.png"];t.exports=n.extend({model:a,serialized:void 0,timeline:void 0,timelineLookup:{},timelineMap:[],getFilterData:function(){if(this.filterData)return this.filterData;for(var e=this.pluck("tags"),t=_.flatten(e),i=_.flatten(t),s=_.uniq(i,function(e){return e?e.toLowerCase():void 0}),n=-2,a=[],o=s.length-1;o>=0;o--)s[o]||(n=o);n>-1&&s.splice(n,1),this.tagLookup={};for(var o=0;o<s.length;o++)a.push({tag:s[o]});this.filterData=_.sortBy(a,function(e){return e.tag.toLowerCase()});for(var o=0;o<this.filterData.length;o++)this.tagLookup[this.filterData[o].tag.split(" ").join("").toLowerCase()]=o,this.filterData[o].id=o;return this.filterData},getTimeline:function(){this.timeline=this.timeline||[{dayId:1,day:"Tuesday, April 12",blocks:this.parseDay(1)},{dayId:2,day:"Wednesday, April 13",blocks:this.parseDay(2)}];for(var e in this.timelineLookup){var t=this.findById(e);this.timelineMap.push({id:e,title:t.sessionTitle,position:t.timeLineIndex,model:t})}return s(this.timelineMap,"position"),this.timeline},getTimelineSiblings:function(e){for(var t=0;t<this.timelineMap.length;t++){var i=this.timelineMap[t],s=void 0,n=void 0;if(i.id==e)return this.timelineMap[t+1]&&(s=this.timelineMap[t+1].id),this.timelineMap[t-1]&&(n=this.timelineMap[t-1].id),{next:s,prev:n}}},parseDay:function(e){var t=this.serialized,i=t.filter(function(t){return t.day==e&&0==t.allDay}),n=_.groupBy(i,function(e){return moment(e.startTime.iso,moment.ISO_8601).zone(0).format("h:mm a")}),a=[];for(var o in n){var l=moment(o,"h:mm a"),r=("0"+l.hours()).slice(-2),h=("0"+l.minutes()).slice(-2),u=""+e+r+h,t=n[o];s(t,"room"),a.push({time:o,index:u,timeString:l.format("h:mm"),sessions:t});for(var c=t.length-1;c>=0;c--){var d=t[c];d.hasDetails&&(this.timelineLookup[d.objectId]=parseInt(u+c))}}var p=_.sortBy(a,function(e){return e.index});return p},findById:function(e){var t=_.find(this.serialized,{objectId:e});return t&&(t.timeLineIndex=this.timelineLookup[e]),t},findBySlug:function(e){var t=_.find(this.serialized,{sessionSlug:e});return t&&(t.timeLineIndex=this.timelineLookup[t.objectId]),t},serialize:function(){if(!this.serialized){var e=this.toJSON(),t=this.speakers.toJSON(),i=this.maps.toJSON();this.tagLookup||this.getFilterData();for(var s,n,a,l=e.length-1;l>=0;l--){if(s=e[l],s.startTime?s.startTimeString=moment(s.startTime.iso,moment.ISO_8601).zone(0).format("h:mm"):s.startTimeString="",s.endTime?s.endTimeString=moment(s.endTime.iso,moment.ISO_8601).zone(0).format("h:mm"):s.endTimeString="",s.hasDetails||(s.noDetails=!0),s.sessionLocation){var r=_.find(i,function(e){return e.name==s.sessionLocation});s.map=r}if(s.tags&&s.tags.length){for(var h=[],u=s.tags.length-1;u>=0;u--)h.push({tag:s.tags[u],id:this.tagLookup[s.tags[u].split(" ").join("").toLowerCase()]});e[l].tags=h,s.hasTags=!0}if(s.speakers)for(var c=s.speakers.length-1;c>=0;c--){n=s.speakers[c];var a=_.find(t,function(e){return e.objectId==n.objectId});a.speakerName||(a.speakerName="Anonymous"),a.speakerTitle||(a.speakerTitle="Title coming soon"),a.speakerPic||(a.speakerPic={},a.speakerPic.url=o[Math.floor(3*Math.random())]),s.speakers[c]=a}}this.serialized=e}}})},{"../models/session.js":32,"./base.js":25}],28:[function(e,t,i){var s=e("./base.js"),n=e("../models/speaker.js");t.exports=s.extend({model:n})},{"../models/speaker.js":33,"./base.js":25}],29:[function(e,t,i){var s=e("../schedule/manager.js");window.F8_schedule={init:function(){var e=$(window),t=($("body"),$(document));Parse.initialize("R0yDMIKCUyEke2UiadcTBBGd1L5hMBTGJSdBNL3W","BJ5V0APFMlvmCBPDXl9Mgh3q3dFrs18XkQz6A2bO"),this.instance=new s,Parse.history.start({pushState:!0,root:"/schedule"}),e.scroll(function(i){var s=t.scrollTop();Parse.Events.trigger("win:scroll",i,s,s+e.height())}),e.resize(function(t){Parse.Events.trigger("win:resize",e.width(),e.height())})}}},{"../schedule/manager.js":30}],30:[function(e,t,i){var s=e("../lib/util.js"),n=e("./router.js"),a=e("./views/index"),o=e("./views/sessionPanel.js"),l=e("./collections/sessions.js"),r=e("./collections/speakers.js"),h=e("./collections/maps.js"),u=e("../lib/lissajousAnimation.js");t.exports=Parse.View.extend({el:"#schedule-app",currentState:null,dataIsLoaded:!1,initialize:function(){this.$win=$(window),this.router=new n,this.sessions=new l,this.speakers=new r,this.maps=new h,this.indexView=new a,this.sessionPanel=new o,this.indexView.sessionPanel=this.sessionPanel,this.sessionPanel.sessions=this.sessions,this.loaderCurve=new u(this.$win,this.$el,{strokeWeight:1.5,strokeColor:"#00E3AD",curve:[1,7,1,1],animationAxis:"x",scaleX:.5,scaleY:.2,speed:2.5}),this.loaderCurve.layoutCanvas(function(){this.height=100,this.width=100,this.canvas.width=this.width,this.canvas.height=this.height,this.retinafy()}),TweenLite.set(this.loaderCurve.$canvas,{alpha:0}),TweenLite.to(this.loaderCurve.$canvas,.2,{alpha:1}),this.loaderCurve.init(),this.loaderCurve.start(),this.router.on("goto",$.proxy(this["goto"],this)),this.sessionPanel.on("close",$.proxy(this.moveto,this,"index")),this.indexView.on("close-panel",$.proxy(this.moveto,this,"index")),Parse.Events.on("win:scroll",$.proxy(this.handleScroll,this))},events:{"click .filter-panel li":"handleFilter","click .filter-clear":"clearFilter","click .time-sessions li a":"handleListClick"},handleListClick:function(e){e.preventDefault();var t=$(e.currentTarget),i=t.attr("data-slug");this.router.navigate("#/session/"+i,{trigger:!0}),this["goto"]("session",i)},getData:function(e){var t=this,i=$.Deferred(),s=$.Deferred(),n=$.Deferred();this.sessions.fetch({success:function(){i.resolve()}}),this.speakers.fetch({success:function(){s.resolve()}}),this.maps.fetch({success:function(){n.resolve()}}),$.when(i,s,n).done(function(i){this.dataIsLoaded=!0,t.sessions.speakers=t.speakers,t.sessions.maps=t.maps,t.sessions.serialize(),e()})},render:function(e){var t=this;this.viewData={filters:this.sessions.getFilterData(),timeline:this.sessions.getTimeline(),timelineMap:this.sessions.timelineMap},this.indexView.render(this.viewData),this.sessionPanel.render(this.viewData),TweenLite.set(this.indexView.$el,{display:"none"}),this.initFilters(),this.indexView.$el.append(this.sessionPanel.$el),this.$el.append(this.indexView.$el),setTimeout(e,this.dataIsLoaded?1:300);var i=new Hammer(this.$el[0]);i.on("swipeleft",function(e){t.indexView.handleSwipeLeft()}),i.on("swiperight",function(e){t.indexView.handleSwipeRight()})},updateTimelineMap:function(e){var t=this,i=[];_.forEach(e,function(e){var s=t.sessions.findById(e);i.push({id:e,title:s.sessionTitle,position:s.timeLineIndex,model:s})}),this.viewData.timelineMap=i,this.sessionPanel.updateTimelineMap(i)},"goto":function(e,t){var i=this;this.currentState?this.manageState(e,t):(i.$el.addClass("loading"),s.queue([function(e){i.getData(e)},function(e){i.render(e)},function(e){i.$el.removeClass("loading"),TweenLite.to(i.loaderCurve.$canvas,.4,{y:"20px",alpha:0,ease:Expo.easeOut,onComplete:function(){i.loaderCurve.stop(),i.loaderCurve.$canvas.css({display:"none"})}}),TweenLite.set(i.indexView.$el,{display:"block",height:3e3}),i.indexView.setLayout(i.$win.width(),i.$win.height()),e()}],$.proxy(this.manageState,this,e,t)))},manageState:function(e,t){var i=this;if("index"==e&&!this.currentState)return window.scrollTo(0,0),this.currentState="index",void this.indexView.animateIn(.2);if("session"==e&&!this.currentState){this.currentState="session";var s=this.sessions.findBySlug(t);return this.sessionPanel.set(s),this.indexView.setActiveNav(t),this.indexView.setPanelIn(),void _.defer(function(){i.indexView.scrollToActive()})}if("session"==e&&"index"==this.currentState){this.currentState="session";var s=this.sessions.findBySlug(t);return this.sessionPanel["goto"](s),this.indexView.setActiveNav(t),void this.indexView.animatePanelIn()}if("session"==e&&"session"==this.currentState){this.currentState="session";var s=this.sessions.findBySlug(t);return this.sessionPanel["goto"](s),void this.indexView.setActiveNav(t)}return"index"==e&&"session"==this.currentState?(this.currentState="index",this.sessionPanel.transitionOut(),this.indexView.animatePanelOut(),void this.indexView.setActiveNav(t)):void 0},moveto:function(e){this.router.navigate("/",{trigger:!0}),this["goto"](e),window.scrollTo(0,this.currentScroll)},initFilters:function(){this.currentFilters=this.viewData.filters,_.each(this.currentFilters,function(e){e.isActive=!1}),this.indexView.$el.find(".filter-clear").css({display:"none"})},addFilter:function(e){var t=_.find(this.currentFilters,function(t){return t.id==e});t.isActive?t.isActive=!1:t.isActive=!0,_.any(this.currentFilters,{isActive:!0})?(this.showClearToggle(),this.applyFilters(this.currentFilters)):this.clearFilter()},clearFilter:function(){var e=this;this.$el.find(".topic-item.filled").removeClass("filled"),_.each(this.currentFilters,function(e){e.isActive=!1}),this.hideClearToggle();var t=[],i=this.indexView.$sessionList.find(".list-day");i.each(function(e,i){var s=$(i),n=s.find(".list-time-block > li");s.css({display:"block"}),n.each(function(e,i){var s=$(i),n=s.find(".time-sessions > li");s.css({display:"block"}),n.each(function(e,i){var s=$(i),n=s.data("id");s.find(".topic-tags li").css({display:"none"}),s.css({display:"block"}),t.push(n)})})}),e.updateTimelineMap(t),e.indexView.setLayout()},showClearToggle:function(){if(!this.isClearToggleShown){this.isClearToggleShown=!0;var e=this.indexView.$el.find(".filter-clear");TweenLite.set(e,{alpha:0,y:"10px",display:"inline-block"}),TweenLite.to(e,.3,{alpha:1,y:0,ease:Expo.easeOut})}},hideClearToggle:function(){if(this.isClearToggleShown){this.isClearToggleShown=!1;var e=this.indexView.$el.find(".filter-clear");TweenLite.to(e,.3,{alpha:0,onComplete:function(){e.css({display:"none"})}})}},applyFilters:function(e){var t=this,i=[],s=e,n=this.indexView.$sessionList.find(".list-day");n.each(function(e,n){var a=!1,o=$(n),l=o.find(".list-time-block > li");l.each(function(e,n){var o=!1,l=$(n),r=l.find(".time-sessions > li");r.each(function(e,n){var l=$(n),r=!1,h=l.data("id"),u=l.data("tags"),c=[];l.find(".topic-tags li").css({display:"none"}),u&&(c=u.split(","));var d=_.filter(s,{isActive:!0});_.each(d,function(e){_.contains(c,e.tag)&&(l.find(".topic-tags .topic-"+e.id).css({display:"block"}),r=!0,a=!0,o=!0,i.push(h))}),t.toggleListItem(r,l,"session")}),t.toggleListItem(o,l,"block")}),t.toggleListItem(a,o,"day")}),t.updateTimelineMap(i),t.indexView.setLayout(),t.indexView.scrollToTimelineTop()},toggleListItem:function(e,t,i){var s=t.css("display");e?"block"==s||t.hasClass("in")||(TweenLite.set(t,{display:"block"}),"session"==i&&(TweenLite.set(t,{alpha:0}),TweenLite.to(t,.5,{alpha:1})),t.addClass("in")):(t.removeClass("in"),TweenLite.set(t,{display:"none"}))},handleScroll:function(e,t){this.currentScroll=t},handleFilter:function(e){var t=$(e.target),i=t.data("tag");t.hasClass("filled")?t.removeClass("filled"):t.addClass("filled"),this.addFilter(i)}})},{"../lib/lissajousAnimation.js":23,"../lib/util.js":24,"./collections/maps.js":26,"./collections/sessions.js":27,"./collections/speakers.js":28,"./router.js":34,"./views/index":38,"./views/sessionPanel.js":40}],31:[function(e,t,i){t.exports=Parse.Object.extend("Maps")},{}],32:[function(e,t,i){t.exports=Parse.Object.extend("Agenda",{toJSON:function(){var e=Parse.Object.prototype.toJSON.apply(this,arguments);return e.id=this.cid.replace("c",""),e}})},{}],33:[function(e,t,i){t.exports=Parse.Object.extend("Speakers")},{}],34:[function(e,t,i){e("./views/index"),e("./views/session");t.exports=Parse.Router.extend({routes:{"":"index",index:"index","session/:id":"session"},
index:function(){this.trigger("goto","index")},session:function(e){this.trigger("goto","session",e)}})},{"./views/index":38,"./views/session":39}],35:[function(e,t,i){var s=e("hbsfy/runtime");t.exports=s.template({1:function(e,t,i,s,n){var a,o=null!=t?t:{},l=i.helperMissing,r="function",h=e.escapeExpression;return'				<li class="topic-item topic-'+h((a=null!=(a=i.id||(null!=t?t.id:t))?a:l,typeof a===r?a.call(o,{name:"id",hash:{},data:n}):a))+'" data-tag="'+h((a=null!=(a=i.id||(null!=t?t.id:t))?a:l,typeof a===r?a.call(o,{name:"id",hash:{},data:n}):a))+'">'+h((a=null!=(a=i.tag||(null!=t?t.tag:t))?a:l,typeof a===r?a.call(o,{name:"tag",hash:{},data:n}):a))+"</li>\n"},3:function(e,t,i,s,n){var a,o,l=null!=t?t:{},r=i.helperMissing,h="function",u=e.escapeExpression;return'			<div class="list-day" data-id="'+u((o=null!=(o=i.dayId||(null!=t?t.dayId:t))?o:r,typeof o===h?o.call(l,{name:"dayId",hash:{},data:n}):o))+'">\n				<h4>'+u((o=null!=(o=i.day||(null!=t?t.day:t))?o:r,typeof o===h?o.call(l,{name:"day",hash:{},data:n}):o))+'</h4>\n				<ul class="list-time-block">\n'+(null!=(a=i.each.call(l,null!=t?t.blocks:t,{name:"each",hash:{},fn:e.program(4,n,0),inverse:e.noop,data:n}))?a:"")+"				</ul>\n			</div>\n"},4:function(e,t,i,s,n){var a,o,l=null!=t?t:{};return'						<li>\n							<span class="time">'+e.escapeExpression((o=null!=(o=i.timeString||(null!=t?t.timeString:t))?o:i.helperMissing,"function"==typeof o?o.call(l,{name:"timeString",hash:{},data:n}):o))+'</span>\n							<ul class="time-sessions">\n'+(null!=(a=i.each.call(l,null!=t?t.sessions:t,{name:"each",hash:{},fn:e.program(5,n,0),inverse:e.noop,data:n}))?a:"")+"							</ul>\n						</li>\n"},5:function(e,t,i,s,n){var a,o,l=null!=t?t:{},r=i.helperMissing,h="function",u=e.escapeExpression;return'								<li class="'+(null!=(a=i["if"].call(l,null!=t?t.noDetails:t,{name:"if",hash:{},fn:e.program(6,n,0),inverse:e.noop,data:n}))?a:"")+' in"\n									  data-tags="'+(null!=(a=i.each.call(l,null!=t?t.tags:t,{name:"each",hash:{},fn:e.program(8,n,0),inverse:e.noop,data:n}))?a:"")+'"\n									  data-id="'+u((o=null!=(o=i.objectId||(null!=t?t.objectId:t))?o:r,typeof o===h?o.call(l,{name:"objectId",hash:{},data:n}):o))+'"\n									  data-slug="'+u((o=null!=(o=i.sessionSlug||(null!=t?t.sessionSlug:t))?o:r,typeof o===h?o.call(l,{name:"sessionSlug",hash:{},data:n}):o))+'">\n\n'+(null!=(a=i["if"].call(l,null!=t?t.hasDetails:t,{name:"if",hash:{},fn:e.program(10,n,0),inverse:e.noop,data:n}))?a:"")+"\n										<h4>"+u((o=null!=(o=i.sessionTitle||(null!=t?t.sessionTitle:t))?o:r,typeof o===h?o.call(l,{name:"sessionTitle",hash:{},data:n}):o))+"</h4>\n\n"+(null!=(a=i["if"].call(l,null!=t?t.hasDetails:t,{name:"if",hash:{},fn:e.program(12,n,0),inverse:e.noop,data:n}))?a:"")+'\n									<ul class="topic-tags">\n'+(null!=(a=i.each.call(l,null!=t?t.tags:t,{name:"each",hash:{},fn:e.program(14,n,0),inverse:e.noop,data:n}))?a:"")+"									</ul>\n								</li>\n"},6:function(e,t,i,s,n){return"non-speaker"},8:function(e,t,i,s,n){var a;return e.escapeExpression((a=null!=(a=i.tag||(null!=t?t.tag:t))?a:i.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"tag",hash:{},data:n}):a))+","},10:function(e,t,i,s,n){var a,o=null!=t?t:{},l=i.helperMissing,r="function",h=e.escapeExpression;return'									<a href="schedule@@extension#/session/'+h((a=null!=(a=i.sessionSlug||(null!=t?t.sessionSlug:t))?a:l,typeof a===r?a.call(o,{name:"sessionSlug",hash:{},data:n}):a))+'" data-slug="'+h((a=null!=(a=i.sessionSlug||(null!=t?t.sessionSlug:t))?a:l,typeof a===r?a.call(o,{name:"sessionSlug",hash:{},data:n}):a))+'" data-id="'+h((a=null!=(a=i.objectId||(null!=t?t.objectId:t))?a:l,typeof a===r?a.call(o,{name:"objectId",hash:{},data:n}):a))+'">\n'},12:function(e,t,i,s,n){return"									</a>\n"},14:function(e,t,i,s,n){var a,o=null!=t?t:{},l=i.helperMissing,r="function",h=e.escapeExpression;return'										<li class="topic-'+h((a=null!=(a=i.id||(null!=t?t.id:t))?a:l,typeof a===r?a.call(o,{name:"id",hash:{},data:n}):a))+'" data-title="'+h((a=null!=(a=i.tag||(null!=t?t.tag:t))?a:l,typeof a===r?a.call(o,{name:"tag",hash:{},data:n}):a))+'"></li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,s,n){var a,o=null!=t?t:{};return'<div class="container"></div>\n\n<div class="filter-panel">\n	<div class="top-bar">\n		<h6>Filter by topic</h6>\n	</div>\n	<div class="panel-content">\n		<ul>\n'+(null!=(a=i.each.call(o,null!=t?t.filters:t,{name:"each",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?a:"")+'		</ul>\n		<span class="filter-clear">Clear All</span>\n	</div>\n</div>\n\n<div class="top-bar session-list-top-bar">\n	<ul class="session-index-nav">\n		<li class="active index-nav-1"><h6>Day 1</h6></li>\n		<li class="index-nav-2"><h6>Day 2</h6></li>\n	</ul>\n\n	<span class="filter-trigger"><h6><i></i>Filter</h6></span>\n</div>\n\n<div class="session-list-panel">\n	<div class="panel-content">\n'+(null!=(a=i.each.call(o,null!=t?t.timeline:t,{name:"each",hash:{},fn:e.program(3,n,0),inverse:e.noop,data:n}))?a:"")+"	</div>\n</div>"},useData:!0})},{"hbsfy/runtime":20}],36:[function(e,t,i){var s=e("hbsfy/runtime");t.exports=s.template({1:function(e,t,i,s,n){var a;return"<span>"+e.escapeExpression((a=null!=(a=i.room||(null!=t?t.room:t))?a:i.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"room",hash:{},data:n}):a))+"</span>"},3:function(e,t,i,s,n){var a;return'					<h6>Topics:</h6>\n					<ul class="topics">\n'+(null!=(a=i.each.call(null!=t?t:{},null!=t?t.tags:t,{name:"each",hash:{},fn:e.program(4,n,0),inverse:e.noop,data:n}))?a:"")+"					</ul>\n"},4:function(e,t,i,s,n){var a,o=null!=t?t:{},l=i.helperMissing,r="function",h=e.escapeExpression;return'								<li class="topic-item filled topic-'+h((a=null!=(a=i.id||(null!=t?t.id:t))?a:l,typeof a===r?a.call(o,{name:"id",hash:{},data:n}):a))+'">'+h((a=null!=(a=i.tag||(null!=t?t.tag:t))?a:l,typeof a===r?a.call(o,{name:"tag",hash:{},data:n}):a))+"</li>\n"},6:function(e,t,i,s,n){var a,o,l=e.escapeExpression,r=null!=t?t:{},h=i.helperMissing,u="function";return"					<li>\n						<img src="+l(e.lambda(null!=(a=null!=t?t.speakerPic:t)?a.url:a,t))+">\n						<div>\n							<h4>"+l((o=null!=(o=i.speakerName||(null!=t?t.speakerName:t))?o:h,typeof o===u?o.call(r,{name:"speakerName",hash:{},data:n}):o))+"</h4>\n							<span>"+l((o=null!=(o=i.speakerTitle||(null!=t?t.speakerTitle:t))?o:h,typeof o===u?o.call(r,{name:"speakerTitle",hash:{},data:n}):o))+"</span>\n						</div>\n					</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,s,n){var a,o,l=null!=t?t:{},r=i.helperMissing,h="function",u=e.escapeExpression,c=e.lambda;return'<div class="drag-bounds">\n	<div class="drag-area">\n		<div class="content-wrapper">\n\n			<div class="view-header">\n				<h2>'+u((o=null!=(o=i.sessionTitle||(null!=t?t.sessionTitle:t))?o:r,typeof o===h?o.call(l,{name:"sessionTitle",hash:{},data:n}):o))+"</h2>\n				<h4>\n					<span>"+u((o=null!=(o=i.startTimeString||(null!=t?t.startTimeString:t))?o:r,typeof o===h?o.call(l,{name:"startTimeString",hash:{},data:n}):o))+" - "+u((o=null!=(o=i.endTimeString||(null!=t?t.endTimeString:t))?o:r,typeof o===h?o.call(l,{name:"endTimeString",hash:{},data:n}):o))+"</span>\n					"+(null!=(a=i["if"].call(l,null!=t?t.room:t,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?a:"")+'\n				</h4>\n			</div>\n			<div class="view-content">\n'+(null!=(a=i["if"].call(l,null!=t?t.hasTags:t,{name:"if",hash:{},fn:e.program(3,n,0),inverse:e.noop,data:n}))?a:"")+"				\n				<p>"+u((o=null!=(o=i.sessionDescription||(null!=t?t.sessionDescription:t))?o:r,typeof o===h?o.call(l,{name:"sessionDescription",hash:{},data:n}):o))+'</p>\n\n				<ul class="speakers">\n'+(null!=(a=i.each.call(l,null!=t?t.speakers:t,{name:"each",hash:{},fn:e.program(6,n,0),inverse:e.noop,data:n}))?a:"")+'				</ul>\n\n				<div class="map">\n					<img class="map1x" src='+u(c(null!=(a=null!=(a=null!=t?t.map:t)?a.x1:a)?a.url:a,t))+'>\n					<img class="map2x" src='+u(c(null!=(a=null!=(a=null!=t?t.map:t)?a.x2:a)?a.url:a,t))+'>\n					<img class="map3x" src='+u(c(null!=(a=null!=(a=null!=t?t.map:t)?a.x3:a)?a.url:a,t))+">\n				</div>\n			</div>\n\n		</div>\n	</div>\n</div>\n\n\n"},useData:!0})},{"hbsfy/runtime":20}],37:[function(e,t,i){var s=e("hbsfy/runtime");t.exports=s.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,s,n){return'<div class="close"></div>\n\n<div class="prev"><span>Lessons from Creative Labs</span></div>\n<div class="next"><span>Building for the Next Billion</span></div>'},useData:!0})},{"hbsfy/runtime":20}],38:[function(e,t,i){t.exports=Parse.View.extend({template:e("../templates/index"),initialize:function(){this.isFixedView=!1,this.isSessionView=!1},render:function(e){this.$doc=$(document),this.$el.html(this.template(e)),this.$tooltip=$(".tooltip"),this.timelineMap=e.timelineMap,this.$closeArea=$('<div class="close-area"></div>'),this.$el.append(this.$closeArea)},events:{"click .close-area":"handleClosePanel","click .session-list-top-bar.disabled":"handleFilterPanelOut","click .session-list-panel.disabled":"handleFilterPanelOut","click .filter-trigger":"handleFilterPanelIn","click .session-list-panel":"handleSessionsClick","mouseover .topic-tags li":"handleTagMouseOver","mouseout .topic-tags li":"handleTagMouseOut"},handleTagMouseOver:function(e){if(!this.isMobileLayout()){var t=$(document),i=$(e.target),s=i.data("title");this.$tooltip.html(s),TweenLite.set(this.$tooltip,{display:"block",alpha:0,top:i.offset().top-t.scrollTop()-27+"px",left:i.offset().left-this.$tooltip.width()/2-3+"px",y:"3px"}),TweenLite.to(this.$tooltip,.3,{alpha:1,y:0,ease:Expo.easeOut})}},handleTagMouseOut:function(e){if(!this.isMobileLayout()){var t=this;TweenLite.to(this.$tooltip,.1,{alpha:0,y:"3px",onComplete:function(){TweenLite.set(t.$tooltip,{display:"none"})}})}},handleSessionsClick:function(){var e=this.isMobileLayout();this.isSessionView&&e&&this.trigger("close-panel")},handleSwipeLeft:function(){this.isMobileLayout()&&this.isFilterPanelIn&&this.handleFilterPanelOut()},handleSwipeRight:function(){this.isMobileLayout()&&(this.isSessionView||this.isFilterPanelIn||this.handleFilterPanelIn(),this.isSessionView&&this.trigger("close-panel"))},handleKeyDown:function(e){27==e.keyCode&&this.isSessionView&&!this.sessionPanel.isTransitioning&&(e.preventDefault(),this.trigger("close-panel"))},listen:function(){if(!this.isListening){this.isListening=!0;var e=this;Parse.Events.on("win:scroll",$.proxy(this.handleScroll,this)),Parse.Events.on("win:resize",$.proxy(this.handleResize,this)),Parse.Events.on("updateSessionListActive",function(t){e.setActiveNav(t),e.focusActive(t)}),this.$doc.on("keydown",$.proxy(this.handleKeyDown,this))}},setLayout:function(e,t){var i=this;this.$doc=$(document),this.w=e||$(window).width(),this.h=t||$(window).height(),this.$filter=this.$el.find(".filter-panel"),this.$sessionListNav=this.$el.find(".session-list-top-bar"),this.$sessionList=this.$el.find(".session-list-panel"),this.$sessionPanel=this.$el.find(".session-panel"),this.$sessionPanelClose=this.$el.find(".session-panel .close"),this.$sessionPanelNext=this.$el.find(".session-panel .next"),this.$container=this.$el.find(".container"),this.listen(),this.innerWidth=this.$container.width(),this.isMobileLayout(e)?this.mobileLayout(e,t):this.desktopLayout(e,t);var s={doLimit:!1,showItems:[]};if($(".list-day").each(function(){var e=$(this),t=$(this).css("display");"block"==t&&s.showItems.push(e.data("id")),"none"==t&&(s.doLimit=!0)}),s.doLimit){var n=s.showItems[0];this.limitListNav(n)}else this.showListNav(),this.toggleListNav(1);this.height=Math.max(this.$sessionList.outerHeight(),1.85*this.$filter.height()),this.height<560&&(this.height=560),this.offsetTop=this.$el.offset().top,this.offsetBottom=this.offsetTop+this.height,_.defer(function(){TweenLite.to(i.$el,1.6,{height:i.height+"px",ease:Expo.easeOut})})},isMobileLayout:function(e){var t=e||$(window).width();return t>820?!1:!0},desktopLayout:function(e,t){this.$filter.css({"max-width":""}),this.w>1e3?(this.offsetLeft=this.$container.offset().left+parseInt(this.$container.css("padding-left").replace("px","")),this.columnOffset=this.offsetLeft+this.$filter.width(),TweenLite.set(this.$el.find(".drag-area"),{y:0})):(this.offsetLeft=40,this.columnOffset=this.offsetLeft+this.$filter.width(),this.isSessionView&&this.$el.find(".session-view").scrollTop(0)),this.w>1900?colScale=2:this.w>1700?colScale=1.8:colScale=1.4;var i=this.getOpenPanelOffset(),s=this.isSessionView?i:0,n=this.isSessionView?.3:1;this.columnWidthL=(e-this.columnOffset)/colScale,this.columnWidthR=e-(this.columnOffset+this.columnWidthL+i),TweenLite.set(this.$filter,{display:"block",left:this.offsetLeft+"px",alpha:n}),TweenLite.set(this.$sessionList,{left:this.columnOffset+"px",width:this.columnWidthL+"px",x:s+"px"}),TweenLite.set(this.$sessionListNav,{left:this.columnOffset+1+"px",width:this.columnWidthL+"px",x:s+"px"}),TweenLite.set(this.$sessionPanel,{left:this.columnOffset+this.columnWidthL+2+"px",width:this.columnWidthR+"px",x:s+"px"}),TweenLite.set(this.$closeArea,{width:this.columnOffset+s+"px"})},mobileLayout:function(e,t){if(!this.isFilterPanelIn){this.offsetLeft=0,this.columnWidthL=e,this.columnWidthR=e-30,this.$filter.css({"max-width":"186px"});var i=this.isSessionView?"block":"none";this.isSessionView&&this.$el.find(".session-view").scrollTop(0),this.$filter.css({left:0}),TweenLite.set(this.$sessionList,{left:0,width:this.columnWidthL+"px",x:0}),TweenLite.set(this.$sessionListNav,{left:"1px",width:this.columnWidthL+"px",x:0}),TweenLite.set(this.$sessionPanel,{left:0,width:this.columnWidthR+"px",x:"30px",display:i}),this.$sessionPanelNext.css({display:"block"})}},getOpenPanelOffset:function(){var e=-(this.$filter.width()/1.2);return this.w<1e3&&(e=-this.columnOffset),xOffset=e},setActiveNav:function(e){this.$sessionList.find("li .active").removeClass("active"),e&&this.$sessionList.find('li [data-slug="'+e+'"]').addClass("active")},focusActive:function(e){var t=this.$sessionList.find("li .active"),i=t.offset().top-this.$sessionListNav.height(),s=i+t.height(),n=this.$doc.scrollTop(),a=this.$doc.scrollTop()+this.h;n>i&&TweenLite.to(window,1,{scrollTo:{y:i},ease:Expo.easeOut}),s>a&&TweenLite.to(window,1,{scrollTo:{y:s-this.h+100},ease:Expo.easeOut})},scrollToActive:function(e){var t=this.$sessionList.find("li .active"),i=t.offset().top-this.$sessionListNav.height(),s=this.$sessionList.offset().top+this.$sessionList.height()-this.h;i>s&&(i=s+50),TweenLite.to(window,1,{scrollTo:{y:i},ease:Expo.easeOut})},animateIn:function(e){this.isMobileLayout()?this.animateInMobile(e):this.animateInDesktop(e)},animateInDesktop:function(e){TweenLite.set(this.$el,{alpha:0}),TweenLite.set(this.$sessionPanel,{alpha:0}),TweenLite.set(this.$sessionList,{x:"30px",alpha:0}),TweenLite.set(this.$sessionListNav,{x:"30px",alpha:0}),TweenLite.set(this.$filter,{x:"30px",alpha:0}),TweenLite.set(this.$el,{alpha:1}),TweenLite.to(this.$sessionList,.6,{x:0,alpha:1,ease:Expo.easeOut,delay:e+.04}),TweenLite.to(this.$sessionListNav,.6,{x:0,alpha:1,ease:Expo.easeOut,delay:e+.04}),TweenLite.to(this.$filter,.6,{x:0,alpha:1,ease:Expo.easeOut,delay:e})},animateInMobile:function(e){TweenLite.set(this.$el,{alpha:0}),TweenLite.set(this.$sessionPanel,{display:"none",alpha:0}),TweenLite.set(this.$sessionList,{y:"30px",alpha:0}),TweenLite.set(this.$sessionListNav,{y:"30px",alpha:0}),TweenLite.set(this.$filter,{display:"none",alpha:0}),TweenLite.set(this.$el,{alpha:1}),TweenLite.to(this.$sessionList,.6,{y:0,alpha:1,ease:Expo.easeOut,delay:e+.04}),TweenLite.to(this.$sessionListNav,.6,{y:0,alpha:1,ease:Expo.easeOut,delay:e+.04})},animatePanelIn:function(){this.isSessionView||(this.isSessionView=!0,this.sessionPanel.listen(),this.focusAppFrame(),this.isMobileLayout()?this.animatePanelInMobile():this.animatePanelInDesktop())},focusAppFrame:function(){var e=this.$doc.scrollTop(),t=e+this.h,i=this.$sessionList.offset().top,s=this.$sessionList.offset().top+this.$sessionList.height();i>=e&&t>s?TweenLite.to(window,1,{scrollTo:{y:this.$sessionList.offset().top},ease:Expo.easeOut}):i>=e?TweenLite.to(window,1,{scrollTo:{y:this.$sessionList.offset().top},ease:Expo.easeOut}):t>s&&TweenLite.to(window,1,{scrollTo:{y:s-this.h},ease:Expo.easeOut})},animatePanelInDesktop:function(){var e=this.getOpenPanelOffset(),t=e+"px";TweenLite.set(this.$closeArea,{display:"block",width:this.$sessionList.offset().left+e+"px"}),TweenLite.set(this.$sessionPanel,{display:"block",alpha:1}),TweenLite.set(this.$sessionPanelClose,{display:"block",alpha:0}),TweenLite.to(this.$sessionList,.5,{x:t,ease:Expo.easeOut}),TweenLite.to(this.$sessionListNav,.5,{x:t,ease:Expo.easeOut}),TweenLite.to(this.$sessionPanel,.5,{x:t,ease:Expo.easeOut}),TweenLite.to(this.$sessionPanelClose,.5,{alpha:1}),TweenLite.to(this.$filter,.3,{alpha:.3}),this.$filter.addClass("disabled"),this.$closeArea.addClass("enabled")},animatePanelInMobile:function(){TweenLite.set(this.$closeArea,{display:"none"}),TweenLite.set(this.$sessionPanel,{display:"block",alpha:1,height:"100%",x:this.w+30+"px",ease:Expo.easeOut}),TweenLite.set(this.$sessionPanelClose,{display:"block",alpha:0}),TweenLite.set(this.$sessionPanelNext,{display:"block",y:"0"}),TweenLite.to(this.$sessionList,.6,{x:0,ease:Expo.easeOut}),TweenLite.to(this.$sessionListNav,.5,{x:0,ease:Expo.easeOut}),TweenLite.to(this.$sessionPanel,.5,{x:"30px",ease:Expo.easeOut}),TweenLite.to(this.$sessionPanelClose,.5,{alpha:1}),TweenLite.to(this.$sessionPanelNext,.5,{y:0,delay:.13,ease:Expo.easeOut})},animatePanelOut:function(){this.isSessionView&&(this.isSessionView=!1,this.sessionPanel.isAnimatingOut||(this.sessionPanel.isAnimatingOut=!0,this.sessionPanel.ignore(),this.isMobileLayout()?this.animatePanelOutMobile():this.animatePanelOutDesktop()))},animatePanelOutDesktop:function(){var e=this;TweenLite.set(this.$closeArea,{display:"none"}),TweenLite.to(this.$sessionPanelClose,.3,{alpha:0}),TweenLite.to(this.$sessionList,.5,{x:0,delay:.25,ease:Expo.easeOut}),TweenLite.to(this.$sessionListNav,.5,{x:0,delay:.25,ease:Expo.easeOut}),TweenLite.to(this.$sessionPanel,.5,{x:0,delay:.25,ease:Expo.easeOut,onComplete:function(){e.sessionPanel.isAnimatingOut=!1}}),TweenLite.to(this.$filter,.3,{alpha:1,delay:.25}),this.$filter.removeClass("disabled")},animatePanelOutMobile:function(){var e=this;TweenLite.set(this.$closeArea,{display:"none"}),TweenLite.to(this.$sessionPanel,.6,{delay:.15,x:this.w+30+"px",ease:Expo.easeOut,onComplete:function(){e.sessionPanel.isAnimatingOut=!1,e.$sessionPanel.css({display:"none"})}}),this.$filter.removeClass("disabled")},setPanelIn:function(){this.isSessionView||(this.isSessionView=!0,this.$doc.scrollTop()<this.$sessionPanel.offset().top&&TweenLite.to(window,1,{scrollTo:{y:this.$sessionPanel.offset().top},ease:Expo.easeOut}),this.isMobileLayout()?this.setPanelInMobile():this.setPanelInDesktop())},setPanelInDesktop:function(){var e=this.getOpenPanelOffset(),t=e+"px";TweenLite.set(this.$closeArea,{display:"block",width:this.$sessionList.offset().left+e+"px"}),TweenLite.set(this.$sessionList,{x:t,ease:Expo.easeOut}),TweenLite.set(this.$sessionPanel,{display:"block"}),TweenLite.set(this.$sessionPanelNext,{y:"0"}),TweenLite.set(this.$sessionListNav,{x:t,ease:Expo.easeOut}),TweenLite.set(this.$sessionPanel,{x:t,ease:Expo.easeOut}),TweenLite.set(this.$sessionPanelClose,{alpha:1}),TweenLite.set(this.$filter,{alpha:.3}),this.$filter.addClass("disabled")},setPanelInMobile:function(){TweenLite.set(this.$closeArea,{display:"none"}),TweenLite.set(this.$sessionPanel,{display:"block",alpha:1,x:"30px"}),TweenLite.set(this.$sessionPanelClose,{display:"block",alpha:1}),TweenLite.set(this.$sessionPanelNext,{display:"block",y:0,alpha:1}),TweenLite.set(this.$sessionListNav,{x:0}),TweenLite.set(this.$sessionList,{x:0})},getOpenFilterInOffset:function(){var e=20,t=Math.floor(.75*this.$filter.width());return e+t},handleFilterPanelIn:function(){if(!this.isFilterPanelIn){this.isFilterPanelIn=!0;var e=20,t=Math.floor(this.$filter.width());this.$sessionList.addClass("disabled"),this.$sessionListNav.addClass("disabled"),TweenLite.to(this.$sessionListNav,.5,{x:t+e+"px",ease:Expo.easeOut}),TweenLite.to(this.$sessionList,.5,{x:t+e+"px",ease:Expo.easeOut}),TweenLite.set(this.$filter,{display:"inline",alpha:0}),TweenLite.to(this.$filter,.5,{alpha:1,x:e+"px"})}},handleFilterPanelOut:function(){this.isFilterPanelIn&&(this.isFilterPanelIn=!1,this.$sessionList.removeClass("disabled"),this.$sessionListNav.removeClass("disabled"),TweenLite.to(this.$sessionListNav,.5,{x:"0px",ease:Expo.easeOut}),TweenLite.to(this.$sessionList,.5,{x:"0px",ease:Expo.easeOut}),TweenLite.to(this.$filter,.5,{alpha:0,x:0}))},scrollToTimelineTop:function(){TweenLite.to(window,1,{scrollTo:{y:this.offsetTop},ease:Expo.easeOut})},handleScroll:function(e,t,i){var s=0,n=0;this.$sessionList&&(s=this.$sessionList.find(".list-day:last-child").offset().top),this.$sessionListNav&&(n=this.$sessionListNav.height());var a=s-n-10,o=i-t;if(i=o>800?t+800:i,t>a?this.isScrollDay2||(this.isScrollDay2=!0,this.isScrollDay1=!1,this.toggleListNav(2)):this.isScrollDay1||(this.isScrollDay2=!1,this.isScrollDay1=!0,this.toggleListNav(1)),!this.isFixedView&&this.$sessionPanel.height()<o){var l=0;this.unfixEl(this.$filter,l),this.unfixEl(this.$sessionListNav,l),this.unfixEl(this.$sessionPanel,l)}if(t<this.offsetTop){if(!this.isFixedView)return;this.isFixedView=!1;var l=0;this.unfixEl(this.$filter,l),this.unfixEl(this.$sessionListNav,l),this.unfixEl(this.$sessionPanel,l)}else if(i>this.offsetBottom){if(!this.isFixedView)return;this.isFixedView=!1,this.isSessionView&&this.trigger("close-panel");var l=this.height-(i-t);this.unfixEl(this.$filter,l),this.unfixEl(this.$sessionListNav,l),this.unfixEl(this.$sessionPanel,l)}else{if(this.isFixedView)return;this.isFixedView=!0;this.$sessionList.offset().left+1;this.fixEl(this.$filter),this.fixEl(this.$sessionListNav),this.fixEl(this.$sessionPanel)}},toggleListNav:function(e){var t=this,i=this.$sessionListNav.find(".index-nav-1"),s=this.$sessionListNav.find(".index-nav-2");1==e?(i.addClass("active"),i.unbind("click"),s.removeClass("active"),s.bind("click",function(){TweenLite.to(window,1,{scrollTo:{y:t.$sessionList.find(".list-day:last-child").offset().top-t.$sessionListNav.height()},ease:Expo.easeOut})})):2==e&&(i.removeClass("active"),i.bind("click",function(){TweenLite.to(window,1,{scrollTo:{y:t.$sessionList.offset().top},ease:Expo.easeOut})}),s.addClass("active"),s.unbind("click"))},limitListNav:function(e){$(".session-index-nav li").each(function(){$(this).css("display","none")}),$(".index-nav-"+e).css("display","inline-block"),$(".index-nav-"+e).addClass("disabled")},showListNav:function(){$(".session-index-nav li").each(function(){$(this).removeClass("disabled"),$(this).css("display","inline-block")})},fixEl:function(e,t){e.css({position:"fixed",top:0}),"number"==typeof t&&e.css({left:t+"px"})},unfixEl:function(e,t,i){e.css({position:"absolute",top:t+"px"}),"number"==typeof i&&e.css({left:i+"px"})},handleResize:function(e,t){this.setLayout(e,t)},handleClosePanel:function(){this.trigger("close-panel")}})},{"../templates/index":35}],39:[function(e,t,i){t.exports=Parse.View.extend({template:e("../templates/session"),className:"session-view",initialize:function(){this.$win=$(window),this.$doc=$(document)},render:function(e){this.$el.html(this.template(e)),Parse.Events.on("win:scroll",$.proxy(this.handleScroll,this)),Parse.Events.on("win:resize",$.proxy(this.handleResize,this)),this.$dragBounds=this.$el.find(".drag-bounds"),this.$dragArea=this.$el.find(".drag-area"),this.$parentPanel=$(".session-panel"),_.defer($.proxy(this.initDraggable,this))},initDraggable:function(){this.setLayout(),this.setPullLimits(),this.draggable=Draggable.create(this.$dragArea,{type:"y",edgeResistance:.65,bounds:this.$dragBounds,throwProps:!0,cursor:"ns-resize",onDrag:$.proxy(this.handleDrag,this),onDragStart:$.proxy(this.handleDragStart,this),onRelease:$.proxy(this.handleDragRelease,this),onThrowUpdate:$.proxy(this.handleThrowUpdate,this),onThrowComplete:$.proxy(this.handleThrowComplete,this)}),this.setDraggableState()},setDraggableState:function(e){if(this.draggable){var t=e||this.$win.width();820>t?this.draggable[0].enable():this.draggable[0].disable()}},setLayout:function(){var e=window.innerHeight,t=(this.$win.width(),this.$dragArea.outerHeight());e>t&&this.$dragArea.css({height:e+"px"}),this.$dragBounds.css({height:e+"px"}),this.setDraggableState()},setPullLimits:function(e){this.topLimit=this.$parentPanel.offset().top,this.bottomLimit=e||this.$doc.scrollTop()+this.$win.height()},handleScroll:function(e,t,i){this.setPullLimits(i)},handleResize:function(){this.setLayout()},handleDrag:function(){var e,t=this.$dragArea.offset().top,i=t+this.$dragArea.outerHeight(),s=this.$dragBounds.offset().top,n=s+this.$dragBounds.height(),a=t-this.intialOffset,o=0>a?-1:1;-1==o&&n>i?(e=n-i,this.absOffset=e,this.currEl="next",this.trigger("set:next",e),this.trigger("set:prev",0),this.trigger("set",e)):1==o&&t>s?(e=t-s,this.absOffset=e,this.currEl="prev",this.trigger("set:prev",e),this.trigger("set:next",0),this.trigger("set",e)):(this.absOffset=0,this.trigger("set:prev",0),this.trigger("set:next",0))},handleThrowUpdate:function(){this.handleDrag(),this.detectTransition()},handleThrowComplete:function(){this.currEl=null},handleDragStart:function(){this.intialOffset=this.$dragArea.offset().top},handleDragRelease:function(){this.detectTransition()},detectTransition:function(){this.absOffset>65&&this.trigger("drag:transition",this.currEl)}})},{"../templates/session":36}],40:[function(e,t,i){var s=e("./session.js"),n=e("../../lib/util.js");t.exports=Parse.View.extend({template:e("../templates/sessionPanel"),className:"session-panel",currentView:null,render:function(e){this.$doc=$(document),this.$el.html(this.template()),this.$close=this.$el.find(".close"),this.$next=this.$el.find(".next"),this.$prev=this.$el.find(".prev"),TweenLite.set(this.$close,{display:"none"}),this.timelineMap=e.timelineMap,Parse.Events.on("win:scroll",$.proxy(this.handleScroll,this)),Parse.Events.on("win:resize",$.proxy(this.handleSResize,this)),this.$doc.on("keydown",$.proxy(this.handleKeyDown,this)),this.isListening=!0},listen:function(){this.isListening=!0},ignore:function(){this.isListening=!1},handleKeyDown:function(e){this.isListening&&(38==e.keyCode&&(e.preventDefault(),this.transitionSessionUp()),40==e.keyCode&&(e.preventDefault(),this.transitionSessionDown()))},transitionSessionUp:function(){this.currSiblings.prev&&(Parse.Events.trigger("updateSessionListActive",this.currSiblings.prev.sessionSlug),this["goto"](this.currSiblings.prev))},transitionSessionDown:function(){this.currSiblings.next&&(Parse.Events.trigger("updateSessionListActive",this.currSiblings.next.sessionSlug),this["goto"](this.currSiblings.next))},updateTimelineMap:function(e){this.timelineMap=e},set:function(e){var t=new s;TweenLite.set(this.$close,{display:"block"}),TweenLite.set(this.$next,{display:"block"}),t.render(e),this.$el.append(t.$el),this.updateNextPrevBtns(e),this.currentView=t,this.currentModel=e,t.on("set:next",$.proxy(this.setNextBtn,this)),t.on("set:prev",$.proxy(this.setPrevBtn,this)),t.on("drag:transition",$.proxy(this.dragTransition,this))},dragTransition:function(e){if(!this.isTransitioning){this.isTransitioning=!0;var t,i=this.currSiblings;TweenLite.to(this.$close,.3,{alpha:1,delay:.3}),"next"==e&&i.next?(t=i.next,this.dragto(t)):"prev"==e&&i.prev?(t=i.prev,this.dragto(t)):this.isTransitioning=!1}},getSiblings:function(e){for(var t,i=0;i<this.timelineMap.length;i++){var s=this.timelineMap[i],n=void 0,a=void 0,o=void 0,l=void 0;s.id==e.objectId&&(this.timelineMap[i+1]&&(n=this.timelineMap[i+1].id,o=this.sessions.findById(n)),this.timelineMap[i-1]&&(a=this.timelineMap[i-1].id,l=this.sessions.findById(a)),t={next:o,prev:l})}return t},updateNextPrevBtns:function(e){var t=this.getSiblings(e);this.currSiblings=t,this.$next.removeClass("show-arrow"),this.$prev.removeClass("show-arrow"),t.next?(this.$next.css({display:"block"}),this.$close.removeClass("ignore"),this.$next.find("span").html(t.next.sessionTitle)):(this.$next.css({display:"none"}),this.$close.addClass("ignore")),t.prev?(this.$prev.css({display:"block"}),this.$close.removeClass("ignore"),this.$prev.find("span").html(t.prev.sessionTitle)):(this.$prev.css({display:"none"}),this.$close.addClass("ignore"))},"goto":function(e){this.isAnimatingOut&&(this.isAnimatingOut=!1);var t=new s;if(t.render(e),this.updateNextPrevBtns(e),t.on("set:next",$.proxy(this.setNextBtn,this)),t.on("set:prev",$.proxy(this.setPrevBtn,this)),t.on("drag:transition",$.proxy(this.dragTransition,this)),this.tl&&this.tl.isActive()){var i=this.tl.eventCallback("onComplete");i(),this.tl.kill()}this.currentView?this.transitionOver(e,t):this.transitionIn(e,t)},dragto:function(e){var t=new s;if(Parse.history.navigate("#/session/"+e.sessionSlug,{trigger:!0}),t.render(e),this.updateNextPrevBtns(e),this.currentView.off("set:next"),this.currentView.off("set:prev"),this.currentView.off("drag:transition"),t.on("set:next",$.proxy(this.setNextBtn,this)),t.on("set:prev",$.proxy(this.setPrevBtn,this)),t.on("drag:transition",$.proxy(this.dragTransition,this)),this.tl&&this.tl.isActive()){var i=this.tl.eventCallback("onComplete");i(),this.tl.kill()}var n,a=$(window).height(),o=parseInt(this.currentModel.timeLineIndex),l=parseInt(e.timeLineIndex);n=l>o?-1*a:a,TweenLite.set(this.$next,{height:0}),TweenLite.set(this.$prev,{height:0}),TweenLite.set(t.$el,{alpha:1,y:-1*n+"px"}),this.$el.append(t.$el),this.tl=new TimelineLite({onComplete:$.proxy(this.handleComplete,this,t,e)}),this.tl.add(TweenLite.to(t.$el,.8,{y:0,delay:0,ease:Expo.easeOut}),0),this.tl.add(TweenLite.to(this.currentView.$el,.8,{y:1*n+"px",ease:Expo.easeOut}),0)},setNextBtn:function(e){TweenLite.set(this.$next.find("span"),{alpha:this.getBtnAlpha(e)}),TweenLite.set(this.$next,{height:e+"px"}),e>65?this.$next.addClass("show-arrow"):this.$next.removeClass("show-arrow")},setPrevBtn:function(e){TweenLite.set(this.$close,{alpha:n.map(e,0,25,1,0)}),TweenLite.set(this.$prev.find("span"),{alpha:this.getBtnAlpha(e)}),TweenLite.set(this.$prev,{height:e+"px"}),e>65?this.$prev.addClass("show-arrow"):this.$prev.removeClass("show-arrow")},getBtnAlpha:function(e){return n.map(e,0,50,0,1)},isMobileLayout:function(e){var t=e||$(window).width();return t>768?!1:!0},transitionIn:function(e,t){this.isTransitioning||(this.isTransitioning=!0,this.isMobileLayout()?this.transitionInMobile(e,t):this.transitionInDesktop(e,t))},transitionInDesktop:function(e,t){TweenLite.set(t.$el,{alpha:0,y:"30px"}),this.$el.append(t.$el),this.tl=new TimelineLite({onComplete:$.proxy(this.handleComplete,this,t,e)}),this.tl.add(TweenLite.to(t.$el,.5,{y:0,alpha:1,ease:Expo.easeOut}),0)},transitionInMobile:function(e,t){TweenLite.set(t.$el,{alpha:1,y:"0"}),this.handleComplete(t,e),this.$el.append(t.$el),TweenLite.to(t.$el,.8,{alpha:1,ease:Expo.easeOut})},transitionOut:function(){this.isMobileLayout()?this.transitionOutMobile():this.transitionOutDesktop()},transitionOutDesktop:function(){if(!this.isTransitioning){var e=this;TweenLite.to(this.currentView.$el,.4,{alpha:0,y:"30px",ease:Expo.easeOut,onComplete:function(){e.currentView.remove(),e.currentView=null}})}},transitionOutMobile:function(){var e=this;TweenLite.to(this.currentView.$el,.4,{alpha:0,delay:.1,onComplete:function(){e.currentView.remove(),e.currentView=null}})},transitionOver:function(e,t){if(!this.isTransitioning){this.isTransitioning=!0;var i,s=parseInt(this.currentModel.timeLineIndex),n=parseInt(e.timeLineIndex);i=n>s?-30:30,TweenLite.set(t.$el,{alpha:0,y:-1*i+"px"}),this.$el.append(t.$el),this.tl=new TimelineLite({onComplete:$.proxy(this.handleComplete,this,t,e)}),this.tl.add(TweenLite.to(t.$el,.5,{y:0,ease:Expo.easeOut}),0),this.tl.add(TweenLite.to(t.$el,.3,{alpha:1}),0),this.tl.add(TweenLite.to(this.currentView.$el,.1,{alpha:0}),0),this.tl.add(TweenLite.to(this.currentView.$el,.5,{y:1*i+"px",ease:Expo.easeOut}),0)}},handleComplete:function(e,t){this.isTransitioning=!1,this.currentView&&(this.currentView.off("set:next"),
this.currentView.off("set:prev"),this.currentView.off("drag:transition"),this.currentView.unbind(),this.currentView.remove()),e&&t&&(this.currentView=e,this.currentModel=t)},events:{"click .close":"close"},close:function(){this.trigger("close")}})},{"../../lib/util.js":24,"../templates/sessionPanel":37,"./session.js":39}]},{},[29]);